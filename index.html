<script>
    const appState = {
        map: null,
        markers: [],
        phenomena: [],
        currentPhenomenon: null
    };

    // ============ –≠–ú–û–î–ó–ò-–ú–ê–†–ö–ï–† ============
    function getEmojiIcon(phenomenon) {
        const type = phenomenon.name.toLowerCase();
        let emoji = "‚ùî";
        if (type.includes("—Ç–∏–ª—å–∑–∏—Ç—Ç–µ—Ä") || type.includes("—Å—ã—Ä")) emoji = "üßÄ";
        else if (type.includes("–≥–∞–º–±—É—Ä–≥–µ—Ä")) emoji = "üçî";
        else if (type.includes("–±–æ–ª–æ–Ω—å–µ–∑–µ")) emoji = "üçù";
        else if (type.includes("–º–æ–∫–∫–∞") || type.includes("–∫–æ—Ñ–µ")) emoji = "‚òï";
        else if (type.includes("–ø–æ—Ä—Ç–≤–µ–π–Ω") || type.includes("–≤–∏–Ω–æ") || type.includes("—à–∏—Ä–∞–∑")) emoji = "üç∑";
        else if (type.includes("–±–∞–ª–∞–∫–ª–∞–≤–∞")) emoji = "ü•∑";
        else if (type.includes("—Ç–∞–Ω–∂–µ—Ä–∏–Ω") || type.includes("–∞–ø–µ–ª—å—Å–∏–Ω")) emoji = "üçä";
        else if (type.includes("–±–µ—Ä–ª–∏–Ω–µ—Ä")) emoji = "üç©";
        else if (type.includes("–≤–µ–Ω–∞") || type.includes("wiener")) emoji = "üå≠";
        return L.divIcon({
            html
